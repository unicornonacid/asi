version: '3'
services:
  baseimg:
    build:
      context: .
      target: base
  generator:
    build:
      context: .
      target: generator
    environment:
      NOCASES: 10
      OUTPUT_FILE: /data/raw/first.csv
    volumes:
      - ./data:/data:rw
    depends_on:
      - baseimg
  cleaner:
    build:
      context: .
      target: cleaner
    environment:
      FROM_FILE: /data/raw/first.csv
      OUTPUT_FILE: /data/clean/first.csv
    volumes:
      - ./data:/data:rw
    depends_on:
      - baseimg


